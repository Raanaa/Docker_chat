# Chat system
dockerized __rails application__ with __MYSQL__ database  __Elasticsearch__  and __sidekiq__ 
 ### containers:
   * docker_chat_app_1
  * docker_chat_db_1
  * docker_chat_elastic_1
  * docker_chat_sidekiq_1
*  docker_chat_redis_1

The system allows creating new applications where each application will have :
   * token(generated by the system) 
    * name(provided by the client)


Each application can have many chats. and each chat  have a number. 
Numbering of chats in each application starts from 1 and no 2 chats in the same application  have the same number. 
. A chat contains messages and messages have numbers that start from 1 for each chat. 

   * The token of the application returned in the chat creation request
   * The number of the chat returned in the chat creation request
   * The number of the message returned in the message creation request.
 ##### The client identifies the application by its token and the chat by its number along with the application token.

### endpoints:
you can you __postman__ or __curl__ to send requests 

#### 1. create application 
it takes application name as a params
example 

			  curl -X POST \
			  'http://localhost:3000/applications/create?name=my_app_name' \
			 
 you will get a response like that 
 
                  Application created with token = sT7ttN72s7GFBj33R7pAntCbrana
  keep this token to be used later 



========================================================
 Add an endpoint for searching through messages of a specific chat. It should be able to partially match messages’ bodies. You must use ElasticSearch for this. The applications table should contain a column called chats_count that contains the number of chats for this application. Similarly, the chats table should contain a column called messages_count that contains the number of messages in this chat. These columns don’t have to be live. However, they shouldn’t be lagging more than 1 hour


### installation:
 * install docker on your machine
 * clone this repository
 * docker-compose build
* docker-compose run --rm app rake db:migrate
 * docker-compose up 